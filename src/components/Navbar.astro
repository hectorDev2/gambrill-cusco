---
interface Props {
  colorNav?: string;
}

const routes = [
  {
    path: "/",
    title: "nosotros",
  },
  {
    path: "/galeria",
    title: "galeria",
  },
];
---

<header
  id="header"
  class={`fixed shadow-md h-[45px] w-screen bg-white text-[var(--primary)] z-50 top-0 lg:px-0`}
>
  <div class="mx-auto flex max-w-7xl h-full items-center justify-between">
    <a href="/">
      <img src="/assets/logo.png" class="w-20 text__glowing" />
    </a>

    <!-- Botón de menú para pantallas pequeñas -->
    <button
      id="menu-toggle"
      class="relative flex flex-grow basis-0 justify-end text-2xl md:hidden z-50"
    >
      <span id="menu-icon">
        <span class="">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-square-chevron-down-filled"
            width="44"
            height="44"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="#460E35"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M19 2a3 3 0 0 1 3 3v14a3 3 0 0 1 -3 3h-14a3 3 0 0 1 -3 -3v-14a3 3 0 0 1 3 -3zm-9.387 8.21a1 1 0 0 0 -1.32 1.497l3 3l.094 .083a1 1 0 0 0 1.32 -.083l3 -3l.083 -.094a1 1 0 0 0 -.083 -1.32l-.094 -.083a1 1 0 0 0 -1.32 .083l-2.293 2.292l-2.293 -2.292z"
              stroke-width="0"
              fill="#460E35"></path>
          </svg>
        </span>
        <span class="hidden">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="icon icon-tabler icon-tabler-square-rounded-x-filled"
            width="44"
            height="44"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="#460E35"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M12 2l.324 .001l.318 .004l.616 .017l.299 .013l.579 .034l.553 .046c4.785 .464 6.732 2.411 7.196 7.196l.046 .553l.034 .579c.005 .098 .01 .198 .013 .299l.017 .616l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.464 4.785 -2.411 6.732 -7.196 7.196l-.553 .046l-.579 .034c-.098 .005 -.198 .01 -.299 .013l-.616 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.785 -.464 -6.732 -2.411 -7.196 -7.196l-.046 -.553l-.034 -.579a28.058 28.058 0 0 1 -.013 -.299l-.017 -.616c-.003 -.21 -.005 -.424 -.005 -.642l.001 -.324l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.464 -4.785 2.411 -6.732 7.196 -7.196l.553 -.046l.579 -.034c.098 -.005 .198 -.01 .299 -.013l.616 -.017c.21 -.003 .424 -.005 .642 -.005zm-1.489 7.14a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"
              fill="currentColor"
              stroke-width="0"></path>
          </svg>
        </span>
      </span>
    </button>

    <ul>
      <a
        href="/"
        class="border font-bold text-center hidden text-[5px] md:text-xs rounded-full md:inline-block border-white px-2 py-2 justify-self-end hover:bg-white hover:text-black duration-300"
      >
        Nosotros
      </a>
      <a
        href="/galeria"
        class="border font-bold text-center hidden text-[5px] md:text-xs rounded-full md:inline-block border-white px-2 py-2 justify-self-end hover:bg-white hover:text-black duration-300"
      >
        Galeria
      </a>
    </ul>

    <!-- Menú de navegación móvil para pantallas pequeñas -->
    <nav
      id="mobile-menu"
      class="bg-[#460E35]/80 text-white -translate-y-full transition-transform md:hidden w-full flex flex-col items-center text-center text-2xl fixed top-0 left-0 right-0 h-dvh place-content-center"
    >
      <div class="relative flex flex-col">
        {
          routes.map(({ path, title }) => (
            <a class="hover:underline uppercase my-3 " href={path}>
              {title}
            </a>
          ))
        }
      </div>
    </nav>
  </div>
</header>

<script>
  document.addEventListener("astro:page-load", () => {
    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuIcon = document.getElementById("menu-icon");

    if (!menuToggle || !mobileMenu || !menuIcon) {
      return;
    }

    menuToggle.addEventListener("click", function () {
      mobileMenu.classList.toggle("translate-y-[45px]");
      document.body.classList.toggle("overflow-hidden");
      menuIcon
        .querySelectorAll("span")
        .forEach((el) => el.classList.toggle("hidden"));
    });
  });
</script>
